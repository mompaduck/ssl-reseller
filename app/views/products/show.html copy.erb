<main class="min-h-screen bg-gradient-to-b from-indigo-50 to-white py-10">
  <div class="max-w-7xl mx-auto px-6">

    <!-- ===== 상품 헤더 ===== -->
    <div class="text-center mb-10">
      <p class="text-base font-semibold text-indigo-600 tracking-wide uppercase">
        <%= @product.provider.capitalize %>
      </p>

      <h1 class="mt-2 text-4xl font-extrabold text-gray-900">
        <%= @product.name %>
      </h1>

      <p class="mt-3 text-gray-600 text-base">
        상품 코드: <span class="font-semibold text-gray-800"><%= @product.product_code %></span>
      </p>
    </div>

    <!-- ===== 메인 레이아웃 (좌 설명 / 우 정보 박스) ===== -->
    <div class="lg:grid lg:grid-cols-3 lg:gap-10">

      <!-- ================= 좌측 주요 내용 ================= -->
      <div class="lg:col-span-2 space-y-8">

        <!-- 소개 -->
        <div class="bg-white p-8 rounded-2xl shadow-sm border border-gray-200">
          <h2 class="text-2xl font-bold text-gray-900 mb-4">상품 소개</h2>
          <div class="prose prose-gray max-w-none text-gray-700">
            <%= simple_format(@product.description) %>
          </div>
        </div>

        <!-- 특징 -->
        <div class="bg-white p-8 rounded-2xl shadow-sm border border-gray-200">
          <h2 class="text-2xl font-bold text-gray-900 mb-4">주요 특징</h2>
          <div class="prose max-w-none whitespace-pre-line text-gray-700">
            <%= @product.features %>
          </div>
        </div>

      </div>

      <!-- ================= 우측 사이드바 ================= -->
      <div class="mt-10 lg:mt-0 space-y-6">

        <!-- 가격 & 주문 -->
        <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-200">
          <div class="mb-5">

            <p class="text-sm text-gray-500">시작가 (VAT 별도)</p>
            <p class="text-4xl font-extrabold text-indigo-700">
              <%= number_to_currency(@product.price, unit: "₩", precision: 0, format: "%u%n") %>
            </p>

            <% if @product.discount.to_i > 0 %>
              <span class="inline-block mt-2 bg-green-100 text-green-700 text-sm font-semibold px-3 py-1 rounded-full">
                <%= @product.discount %>% 할인
              </span>
            <% end %>
          </div>

          <div class="flex flex-col gap-3">
            <%= link_to "주문하기", new_order_path(product_id: @product.id),
                class: "w-full text-center px-6 py-3 text-base font-semibold rounded-lg
                        bg-gradient-to-r from-indigo-600 to-green-500 text-white
                        hover:opacity-90 shadow transition" %>

            <% if @product.brand_site_url.present? %>
              <%= link_to "공식 사이트", @product.brand_site_url, target: "_blank",
                  class: "w-full text-center px-6 py-3 text-base font-medium rounded-lg
                          border border-gray-300 text-gray-700 hover:bg-gray-100 transition" %>
            <% end %>
          </div>
        </div>

        <!-- 상세 스펙 -->
        <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-200">
          <h3 class="text-xl font-bold text-gray-900 mb-4">상품 스펙</h3>

          <dl class="space-y-4">

            <!-- 인증 타입 -->
            <div class="flex items-start">
              <div class="w-6 h-6 text-indigo-500 flex-shrink-0">
                <i class="fa-solid fa-shield-halved"></i>
              </div>
              <div class="ml-3">
                <dt class="text-sm text-gray-500">검증 유형</dt>
                <dd class="text-base text-gray-800"><%= @product.validation_type %></dd>
              </div>
            </div>

            <!-- 도메인 타입 -->
            <div class="flex items-start">
              <div class="w-6 h-6 text-indigo-500 flex-shrink-0">
                <i class="fa-solid fa-globe"></i>
              </div>
              <div class="ml-3">
                <dt class="text-sm text-gray-500">도메인 타입</dt>
                <dd class="text-base text-gray-800"><%= @product.domain_type %></dd>
              </div>
            </div>

            <!-- 유효기간 -->
            <div class="flex items-start">
              <div class="w-6 h-6 text-indigo-500 flex-shrink-0">
                <i class="fa-solid fa-calendar"></i>
              </div>
              <div class="ml-3">
                <dt class="text-sm text-gray-500">기간</dt>
                <dd class="text-base text-gray-800"><%= @product.duration_months %>개월</dd>
              </div>
            </div>

            <!-- 도메인 수 -->
            <div class="flex items-start">
              <div class="w-6 h-6 text-indigo-500 flex-shrink-0">
                <i class="fa-solid fa-layer-group"></i>
              </div>
              <div class="ml-3">
                <dt class="text-sm text-gray-500">도메인 수</dt>
                <dd class="text-base text-gray-800">최대 <%= @product.domain_count %>개</dd>
              </div>
            </div>

            <!-- 배상 책임 -->
            <div class="flex items-start">
              <div class="w-6 h-6 text-indigo-500 flex-shrink-0">
                <i class="fa-solid fa-circle-check"></i>
              </div>
              <div class="ml-3">
                <dt class="text-sm text-gray-500">배상 책임</dt>
                <dd class="text-base text-gray-800">최대 <%= number_with_delimiter(@product.liability_usd) %> USD</dd>
              </div>
            </div>

            <!-- 멀티연도 -->
            <div class="flex items-start">
              <div class="w-6 h-6 text-indigo-500 flex-shrink-0">
                <i class="fa-solid fa-clock-rotate-left"></i>
              </div>
              <div class="ml-3">
                <dt class="text-sm text-gray-500">멀티 연도</dt>
                <dd class="text-base text-gray-800"><%= @product.multi_year_support? ? "지원" : "미지원" %></dd>
              </div>
            </div>

          </dl>
        </div>
      </div>

    </div>
  </div>
</main>